`everything in js happens inside an execution context.`

it has two components, 
1. memory (variable environment)
   1. this is where all the variables and functions are stored as key-value (name:[undefined_for_var|function_code]) pairs. 
2. code (thread of execution)
   1. this is place where code is executed, line by line.

`javascript is synchronous single-threaded language`

`single-threaded` -> meanse js can execute only one command at a time.
`synchronous` -> it can only go in order, one by one line (only the core language is synchronous, when it comes to web apis and call stack, its not synchronous).

## execution

when we run a js program, an execution context is created. it happens in 2 phases

1. memory allocation phase
   1. js will first allocate memory to all variables and functions.
      1. the key is the name of the function/variable.
      2. the value is `undefined` for variables and whole function code in case of function.
2. code execution phase.
   1. js starts executing line-by-line.
   2. when it sees a variable, it replaces `undefined` with `value` of the variable.
   3. when it sees function, it skips.
   4. when it sees a function invocation, a brand-new execution context is created (same memory/code components/phases, same loop goes)
      1. along with allocating memory to variables inside the function, it allocates memory to the arguments.
      2. then in the execution phase, it'll do calculations (for operators).    
      3. whenever it sees a return statement (or end of function), the current execution context is destroyed and the control is given back to execution context, where the function was invoked.

```js
var n = 2;
function square(num){
    var ans = num * num;
    return ans;
}
var ans1 = square(n);
var ans2 = square(4);
```

`all this is managed using a callstack`. a callstack is a normal stack DS. 
1. initially the `GlobalExecutionContext` is put into the stack
2. and a new `executionContext` every time a function call is made (and removed, once done executinng the function).


`callstack maintains the order of execution of execution_contexts.` also called `Programs stack, control stack, runtime stack, runtime stack.`