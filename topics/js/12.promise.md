## Promises

promise is an object representing eventual completion or failure of asynchronous operation.

when we used callbacks to perform operations after some code is executed, it'd make `inversion of control`, meaning, you don't have control of the function that'll be called once the code is done executing.

```js
someApiCall((data)=>{
    operationsAfterApiCall(data);
});
```
in this case, you have no control on when the callback is called or homany times its called, you just handover it, the same way if you'd want to do something after it, you'd've passed another callback, which would create a `callback hell`.

```js
someApiCall((data)=>{
    operationsAfterApiCall(data, (data) =>{
        callAfterOperation(data);
    });
});
```

`Callback hell = too many nested callbacks making code messy.`

so we use `Promises`.

```js
someApiCall(data)
    .then(data => operationsAfterApiCall(data))
    .then(data => callAfterOperation(data));
```

this way, you know when the next call is made, cause its guranteed by js.

## Promise apis

promises come with more functions

Promise APIs: Promises come with several built-in APIs that help you coordinate multiple async tasks.

`1. Promise.resolve(value)`
Creates a resolved promise.

```js
Promise.resolve(42).then(v => console.log(v)); // 42
```

`2. Promise.reject(error)`
Creates a rejected promise.

```js
Promise.reject("Oops").catch(err => console.log(err));
```

`3. Promise.all([p1, p2, ...])`
Waits for all promises → fails if any fail.

```js
Promise.all([fetch("/a"), fetch("/b")])
  .then(([a, b]) => console.log("Done"))
  .catch(err => console.error("One failed"));
```

`4. Promise.allSettled([p1, p2, ...])`
Waits for all to finish → returns success + failure results.

```js
Promise.allSettled([fetch("/a"), fetch("/bad")])
  .then(results => console.log(results));
```


`5. Promise.race([p1, p2, ...])`
Settles with the first to finish (resolve/reject).

```js
Promise.race([fetch("/slow"), fetch("/fast")])
  .then(res => console.log("Winner"));
```

`6. Promise.any([p1, p2, ...])`
Settles with the first successful one (ignores rejections).

```js
Promise.any([fetch("/bad"), fetch("/ok")])
  .then(res => console.log("First success"))
  .catch(err => console.error("All failed"));
```

`7. .finally()`
Runs cleanup code regardless of success/failure.

```js
fetch("/data")
  .then(res => res.json())
  .catch(err => console.error(err))
  .finally(() => console.log("Always runs"));
```